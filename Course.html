<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö—É—Ä—Å –≤–∞–ª—é—Ç</title>
    <link rel="stylesheet" href="data/main.css">
    <style>

    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <img src="data/header-logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–ø–∞–Ω–∏–∏">
            <h1 style="color: white; font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;">–ê–∫—Ü–∏–æ–Ω–µ—Ä–Ω—ã–π –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –±–∞–Ω–∫ "–§–û–†–ê-–ë–ê–ù–ö"</h1>
        </div>
    </header>

    <main>
        <div class="content">
            <div class="container">
                <h2 class="title">–ö—É—Ä—Å –≤–∞–ª—é—Ç</h2>
                <!-- –ë–ª–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫—É—Ä—Å–∞ —Ñ—É–Ω—Ç–∞ —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤ -->
                <div class="exchange-rate">
                    <h3>–ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:</h3>
                    <div id="exchange-rates"></div>
                </div>
                <!-- –ë–ª–æ–∫ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–∞ –≤–∞–ª—é—Ç -->
                <div class="currency-converter">
                    <h3>–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤–∞–ª—é—Ç</h3>
                    <label for="amount">–°—É–º–º–∞:</label>
                    <input type="number" id="amount" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É">
                    
                    <label for="from_currency">–ò–∑ –≤–∞–ª—é—Ç—ã:</label>
                    <select id="from_currency">
                        <option value="RUB">–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å (RUB)</option>
                        <option value="GBP">–§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤ (GBP)</option>
                    </select>

                    <label for="to_currency">–í –≤–∞–ª—é—Ç—É:</label>
                    <select id="to_currency">
                        <option value="RUB">–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å (RUB)</option>
                        <option value="GBP">–§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤ (GBP)</option>
                    </select>

                    <button onclick="convertCurrency()">–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                    <p id="result"></p>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –º–µ–Ω—é -->
        <div class="menu-panel">
            <a href="Index.html" class="menu-icon">üìú</a>
            <a href="News.html" class="menu-icon">üì∞</a>
            <a href="Course.html" class="menu-icon">üìà</a>
            <a href="Contact.html" class="menu-icon">üìû</a>
            <a href="Video.html" class="menu-icon">üé¨</a>
        </div>

        <script>
            // –°–∫—Ä–∏–ø—Ç –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
            const menuPanel = document.querySelector('.menu-panel');
            menuPanel.addEventListener('mouseover', () => {
                menuPanel.classList.add('expanded');
            });
            menuPanel.addEventListener('mouseout', () => {
                menuPanel.classList.remove('expanded');
            });

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç
            async function loadCurrencyRates() {
                const response = await fetch('https://www.cbr-xml-daily.ru/daily_json.js');
                const data = await response.json();  // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç JSON
                const rate = data.Valute.GBP; // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –∫—É—Ä—Å–µ —Ñ—É–Ω—Ç–∞ —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤

                const exchangeRatesDiv = document.getElementById('exchange-rates'); // –ù–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç, –∫—É–¥–∞ –±—É–¥–µ–º –≤—ã–≤–æ–¥–∏—Ç—å –∫—É—Ä—Å

                const rateDiv = document.createElement('div'); // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç div
                rateDiv.textContent = `${rate.Name} (GBP): ${rate.Value} RUB`; // –ó–∞–ø–æ–ª–Ω—è–µ–º —ç–ª–µ–º–µ–Ω—Ç —Ç–µ–∫—Å—Ç–æ–º —Å –∫—É—Ä—Å–æ–º —Ñ—É–Ω—Ç–∞ —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤
                exchangeRatesDiv.appendChild(rateDiv); // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç —Å –∫—É—Ä—Å–æ–º –≤ div 'exchange-rates'
            }

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç
            async function convertCurrency() {
                const amount = document.getElementById('amount').value; // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å—É–º–º—ã –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
                const fromCurrency = document.getElementById('from_currency').value; // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π –≤–∞–ª—é—Ç—ã
                const toCurrency = document.getElementById('to_currency').value; // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–µ–ª–µ–≤–æ–π –≤–∞–ª—é—Ç—ã
                
                if (amount === '') {
                    document.getElementById('result').innerText = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏';
                    return;
                }

                const response = await fetch('https://www.cbr-xml-daily.ru/daily_json.js'); // –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å –∫ API –¶–ë –†–§ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –∫—É—Ä—Å–∞—Ö –≤–∞–ª—é—Ç
                const data = await response.json(); // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç JSON
                const rate = data.Valute.GBP; // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –∫—É—Ä—Å–µ —Ñ—É–Ω—Ç–∞ —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤

                let result;  // –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –≤–∞–ª—é—Ç
                if (fromCurrency === 'RUB' && toCurrency === 'GBP') {
                    result = (amount / rate.Value).toFixed(2); // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∏–∑ —Ä—É–±–ª–µ–π –≤ —Ñ—É–Ω—Ç—ã
                } else if (fromCurrency === 'GBP' && toCurrency === 'RUB') {
                    result = (amount * rate.Value).toFixed(2); // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –∏–∑ —Ñ—É–Ω—Ç–æ–≤ –≤ —Ä—É–±–ª–∏
                } else {
                    result = amount; // –ï—Å–ª–∏ –≤–∞–ª—é—Ç—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–≤–µ–Ω –≤–≤–µ–¥–µ–Ω–Ω–æ–π —Å—É–º–º–µ
                }

                document.getElementById('result').innerText = `${amount} ${fromCurrency} = ${result} ${toCurrency}`; // –í—ã–≤–æ–¥–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
            }

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.addEventListener('DOMContentLoaded', loadCurrencyRates);// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–≥—Ä—É–∑–∏—Ç –∫—É—Ä—Å –≤–∞–ª—é—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        </script>
    </main>

    <footer>
        <p>&copy; 2024 –ê–ö–ë "–§–û–†–ê-–ë–ê–ù–ö" (–ê–û) <a href="https://www.forabank.ru/" target="_blank" style="color: white;">—Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</a></p>
    </footer>
</body>
</html>
